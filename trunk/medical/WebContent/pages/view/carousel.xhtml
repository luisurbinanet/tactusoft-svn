<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../layout/main.xhtml">
	<ui:define name="content">

		<div class="rco-blockheader">
			<div class="l"></div>
			<div class="r"></div>
			<div class="t">#{msg['title_carousel']}</div>
		</div>

		<p:spacer height="100" />

		<h:form id="form" enctype="multipart/form-data">

			<p:carousel id="carousel" value="#{carouselBacking.list}" var="menu"
				headerText="Seleccione Un Tema">
				<h:panelGrid cellpadding="5"
					style="width: 310px; height: 200px; text-align:center;" columns="1">
					<center>

						<h:outputLabel value="#{menu.name}"
							style="color:Blue;font-style:normal;font-size:medium;font-weight:bold;" />
						<p:spacer height="1" />

						<p:graphicImage value="#{photoStreamer.fileContent}" width="100"
							height="100" cache="false">
							<f:param id="image_id" name="image_id" value="#{menu.id}" />
						</p:graphicImage>

						<p:commandButton icon="ui-icon-search" title="#{msg['btn_view']}"
							action="#{carouselBacking.generateQuestions}"
							oncomplete="dialog.show()" update=":form:detail">
							<f:setPropertyActionListener value="#{menu}"
								target="#{carouselBacking.selectedMenu}" />
						</p:commandButton>

					</center>
				</h:panelGrid>
			</p:carousel>

			<p:dialog header="#{msg['msg_detail']}" showEffect="fade"
				hideEffect="fade" modal="false" widgetVar="dialog" width="300">

				<p:outputPanel id="detail" style="text-align:center;" layout="block">

					<h:panelGrid columns="2" cellpadding="5">
						<h:panelGrid id="pnlQuestion" columns="1">
							<h:outputLabel
								value="#{responseQuestionBacking.selectedQuestion.typeQuestion=='FINAL'?'Â¿':''} #{responseQuestionBacking.selectedQuestion.name} #{responseQuestionBacking.selectedQuestion.typeQuestion=='FINAL'?'?':''}" />
							<p:spacer height="20" />
						</h:panelGrid>
					</h:panelGrid>
				</p:outputPanel>

			</p:dialog>
		</h:form>

		<h:panelGroup layout="block" style="height:200px;" />

	</ui:define>
</ui:composition>

</html>