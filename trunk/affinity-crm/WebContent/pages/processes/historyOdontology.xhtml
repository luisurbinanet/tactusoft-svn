<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<ui:composition template="../templates/common.xhtml">

	<ui:define name="body">

		<p:panel style="width:100%;height:100%;"
			header="#{msg['title_view_history']}">

			<p:spacer height="5" />

			<h:form id="form">

				<p:growl id="growl" showDetail="true" />

				<!-- TACTU CITAS -->
				<h:panelGrid id="tblPart" columns="1" width="100%"
					rendered="#{historyOdontologyBacking.modeEdit}">

					<p:toolbar id="toolBar" style="width:100%"
						rendered="#{not historyOdontologyBacking.modeHistorial}">
						<p:toolbarGroup align="left">
							<p:commandButton icon="ui-icon-disk" value="#{msg['btn_save']}"
								update="form"
								actionListener="#{historyOdontologyBacking.saveAction}"
								disabled="#{historyOdontologyBacking.currentAppointment.closeAppointment}"
								process="@this, toolBar, accordion" />
							<p:commandButton value="#{msg['btn_close_appointment']}"
								icon="ui-icon-locked" onclick="confirmation.show()"
								disabled="#{historyOdontologyBacking.currentAppointment.closeAppointment}"
								process="@this, accordion"
								rendered="#{historyOdontologyBacking.rolePrincipal eq 'DOCTOR'}" />
							<p:commandButton icon="ui-icon-bookmark"
								value="#{msg['btn_view_history']}" update="form"
								oncomplete="dlgHistorial.show()"
								process="@this, toolBar, accordion" />
							<p:commandButton
								disabled="#{not historyOdontologyBacking.currentAppointment.closeAppointment}"
								icon="ui-icon-print"
								rendered="#{historyOdontologyBacking.rolePrincipal eq 'DOCTOR'}"
								value="#{msg['btn_print_medication']}" ajax="false"
								action="#{historyOdontologyBacking.printFormulaAction}"
								process="@this,toolBar" />
							<p:commandButton
								disabled="#{not historyOdontologyBacking.currentAppointment.closeAppointment}"
								icon="ui-icon-print"
								rendered="#{historyOdontologyBacking.rolePrincipal eq 'DOCTOR' and historyOdontologyBacking.currentAppointment.medicationTherapy}"
								value="#{msg['btn_print_therapy']}" ajax="false"
								action="#{historyOdontologyBacking.printFormulaTherapyAction}"
								process="@this, toolBar, accordion" />
							<p:commandButton icon="ui-icon-arrowreturnthick-1-w"
								value="#{msg['btn_return']}" update="form"
								process="@this, toolBar, accordion">
								<f:setPropertyActionListener value="false"
									target="#{historyOdontologyBacking.modeEdit}" />
							</p:commandButton>
						</p:toolbarGroup>
					</p:toolbar>

					<p:spacer rendered="#{not historyOdontologyBacking.modeHistorial}" />

					<p:panelGrid id="pnlPatient" columns="4" style="width:100%">

						<f:facet name="header">
							<h:outputLabel value="#{msg['pat']}" />
						</f:facet>

						<h:outputLabel value="#{msg['pat_sap_code']}"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />
						<p:inputText
							value="#{historyOdontologyBacking.selectedPatient.codeSap}"
							style="width:400px;background-color:#FFFF80;font-weight:bold;"
							readonly="true"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />

						<h:outputLabel value="#{msg['pat_code']}"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />
						<p:inputText
							value="#{historyOdontologyBacking.selectedPatient.doc}"
							style="width:400px;background-color:#FFFF80;font-weight:bold;"
							readonly="true"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />

						<h:outputLabel value="#{msg['pat_names']}"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />
						<p:inputText
							value="#{historyOdontologyBacking.selectedPatient.names}"
							style="width:400px;background-color:#FFFF80;font-weight:bold;"
							readonly="true"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />

						<h:outputLabel value="#{msg['glb_gender']}"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}" />
						<p:inputText
							style="width:400px;background-color:#FFFF80;font-weight:bold;"
							readonly="true"
							rendered="#{historyOdontologyBacking.selectedPatient.id eq null?false:true}"
							value="#{historyOdontologyBacking.selectedPatient.gender eq 'W'?msg['glb_gender_woman']:historyOdontologyBacking.selectedPatient.gender eq 'M'?msg['glb_gender_man']:''}" />

					</p:panelGrid>

					<p:spacer />

					<p:accordionPanel id="accordion" style="width:1100px;height:100%"
						activeIndex="#{historyOdontologyBacking.activeIndex}"
						rendered="#{not historyOdontologyBacking.modeHistorial}">

						<!--  <p:ajax event="tabChange"
							listener="#{historyOdontologyBacking.handleTabChange}"
							update=":form:accordion:pnlStudyCase" />-->

						<p:tab title="#{msg['title_patient_complementary']}"
							id="PATIENT_COMPLEMENTARY">

							<p:fieldset legend="#{msg['pat_personal_data']}">
								<h:panelGrid id="pnlDetail" columns="4" style="margin:0 auto;"
									width="100%">

									<h:outputLabel value="#{msg['pat_born_date']}" />
									<p:calendar
										value="#{historyOdontologyBacking.selectedPatient.bornDate}"
										label="#{msg['pat_born_date']}" readonlyInput="true"
										pattern="dd/MM/yyyy" showOn="button" navigator="true"
										locale="es" yearRange="-100:+0"
										maxdate="#{historyOdontologyBacking.maxDate}">
										<p:ajax event="dateSelect"
											listener="#{historyOdontologyBacking.handleBornDateSelect}"
											update="txtAge" />
									</p:calendar>

									<h:outputLabel value="#{msg['pat_age']}" />
									<p:inputText id="txtAge"
										style="width:400px;background-color:#FFFF80;font-weight:bold;"
										readonly="true"
										value="#{historyOdontologyBacking.age} #{msg['glb_age']}" />

									<h:outputLabel value="#{msg['pat_occupation']}" />
									<p:selectOneMenu
										value="#{historyOdontologyBacking.idOccupation}"
										style="width:408px" label="#{msg['pat_occupation']}">
										<f:selectItems
											value="#{historyOdontologyBacking.listOccupation}" />
									</p:selectOneMenu>

									<h:outputLabel value="#{msg['pat_neighborhood']}" />
									<p:inputText style="width:400px"
										label="#{msg['pat_neighborhood']}"
										value="#{historyOdontologyBacking.neighborhood}" />

									<h:outputLabel value="#{msg['pat_type_housing']}" />
									<p:selectOneMenu
										value="#{historyOdontologyBacking.typeHousing}"
										style="width:408px" label="#{msg['pat_type_housing']}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											itemValue="" />
										<f:selectItem itemLabel="#{msg['pat_type_housing_u']}"
											itemValue="U" />
										<f:selectItem itemLabel="#{msg['pat_type_housing_r']}"
											itemValue="R" />
									</p:selectOneMenu>

								</h:panelGrid>
							</p:fieldset>

							<p:spacer height="8" />

							<p:fieldset legend="#{msg['pat_guardian_data']}">
								<h:panelGrid id="pnlDetail2" columns="4" style="margin:0 auto;"
									width="100%">

									<h:outputLabel value="#{msg['pat_guardian']}" />
									<p:inputText
										value="#{historyOdontologyBacking.selectedPatient.guardian}"
										style="width:400px" label="#{msg['pat_guardian']}"
										maxlength="255" />

									<h:outputLabel value="#{msg['pat_guardian_address']}" />
									<p:inputText
										value="#{historyOdontologyBacking.selectedPatient.guardianAddress}"
										style="width:400px" label="#{msg['pat_guardian_address']}"
										maxlength="255" />

									<h:outputLabel value="#{msg['pat_guardian_relationship']}" />
									<p:selectOneMenu style="width:408px"
										value="#{historyOdontologyBacking.selectedPatient.idGuardianType}">
										<f:selectItems value="#{historyOdontologyBacking.listKin}" />
									</p:selectOneMenu>

									<h:outputLabel value="#{msg['pat_guardian_telephone']}" />
									<p:inputText
										value="#{historyOdontologyBacking.selectedPatient.guardianTelephone}"
										style="width:400px" label="#{msg['pat_guardian_telephone']}"
										maxlength="30" />

								</h:panelGrid>
							</p:fieldset>

						</p:tab>

						<p:tab title="#{msg['his_history_record']}" id="tblRecordPersonal"
							rendered="#{historyOdontologyBacking.rolePrincipal eq 'DOCTOR'}">

							<p:panel header="#{msg['his_record_personal']}">
								<h:panelGrid id="pnlHistoryPersonal" columns="8" width="100%"
									cellpadding="10">

									<h:outputText value="#{msg['his_medical_treatment']}" />
									<p:selectOneMenu label="#{msg['his_medical_treatment']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.medicalTreatment}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_medicine']}" />
									<p:selectOneMenu label="#{msg['his_medicine']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.medicine }">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_surgery']}" />
									<p:selectOneMenu label="#{msg['his_surgery']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.surgery}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_blood_transfusion']}" />
									<p:selectOneMenu label="#{msg['his_blood_transfusion']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bloodTransfusion}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_blood_pressure_high']}" />
									<p:selectOneMenu label="#{msg['his_blood_pressure_high']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bloodPressureHigh}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_blood_pressure_low']}" />
									<p:selectOneMenu label="#{msg['his_blood_pressure_low']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bloodPressureLow}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_penicillin_allergy']}" />
									<p:selectOneMenu label="#{msg['his_penicillin_allergy']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.penicillinAllergy}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_anesthesia_allergy']}" />
									<p:selectOneMenu label="#{msg['his_anesthesia_allergy']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.anesthesiaAllergy}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_aspirin_allergy']}" />
									<p:selectOneMenu label="#{msg['his_aspirin_allergy']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.aspirinAllergy}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_other_allergy']}" />
									<p:selectOneMenu label="#{msg['his_other_allergy']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.otherAllergy}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_excesives_blood']}" />
									<p:selectOneMenu label="#{msg['his_excesives_blood']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.excesivesBlood}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_blood_problem']}" />
									<p:selectOneMenu label="#{msg['his_blood_problem']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bloodProblem}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_anemia_leukemia_hemophilia']}" />
									<p:selectOneMenu
										label="#{msg['his_anemia_leukemia_hemophilia']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.anemiaLeukemiaHemophilia}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_hiv']}" />
									<p:selectOneMenu label="#{msg['his_hiv']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.hiv}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_retroviral']}" />
									<p:selectOneMenu label="#{msg['his_retroviral']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.retroviral}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_pregnant']}" />
									<p:selectOneMenu label="#{msg['his_pregnant']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.pregnant }">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_contraceptives']}" />
									<p:selectOneMenu label="#{msg['his_contraceptives']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.contraceptives}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_venereasl_diseases']}" />
									<p:selectOneMenu label="#{msg['his_venereasl_diseases']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.venereaslDiseases}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_heart_problems']}" />
									<p:selectOneMenu label="#{msg['his_heart_problems']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.heartProblems}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_hepatitis']}" />
									<p:selectOneMenu label="#{msg['his_hepatitis']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.hepatitis}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_asthma']}" />
									<p:selectOneMenu label="#{msg['his_asthma']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.asthma}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_rheumatic_fever']}" />
									<p:selectOneMenu label="#{msg['his_rheumatic_fever']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.rheumaticFever}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_diabetes']}" />
									<p:selectOneMenu label="#{msg['his_diabetes']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.diabetes}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_grastic_ulcer']}" />
									<p:selectOneMenu label="#{msg['his_grastic_ulcer']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.grasticUlcer}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_thyroid']}" />
									<p:selectOneMenu label="#{msg['his_thyroid']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.thyroid}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_limitation_open_close_mouth']}" />
									<p:selectOneMenu
										label="#{msg['his_limitation_open_close_mouth']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.limitationOpenCloseMouth}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_noise_jaw_open_close_mouth']}" />
									<p:selectOneMenu
										label="#{msg['his_noise_jaw_open_close_mouth']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.noiseJawOpenCloseMouth}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_herpes_thrush']}" />
									<p:selectOneMenu label="#{msg['his_herpes_thrush']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.herpesThrush}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_bit_lips_nails_habit']}" />
									<p:selectOneMenu label="#{msg['his_bit_lips_nails_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bitLipsNailsHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_smoke_habit']}" />
									<p:selectOneMenu label="#{msg['his_smoke_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.smokeHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_cigarettes_day_habit']}" />
									<p:selectOneMenu label="#{msg['his_cigarettes_day_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.cigarettesDayHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_citrus_foods_habit']}" />
									<p:selectOneMenu label="#{msg['his_citrus_foods_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.citrusFoodsHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_bit_objects_habit']}" />
									<p:selectOneMenu label="#{msg['his_bit_objects_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.bitObjectsHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_tooth_clench_habit']}" />
									<p:selectOneMenu label="#{msg['his_tooth_clench_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.toothClenchHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_mouth_breath_habit']}" />
									<p:selectOneMenu label="#{msg['his_mouth_breath_habit']}"
										required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.mouthBreathHabit}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>
									<h:outputText value="#{msg['his_obs']}" />
									<p:selectOneMenu label="#{msg['his_obs']}" required="true"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.obs}">
										<f:selectItem itemLabel="#{msg['glb_default_value']}"
											noSelectionOption="true" />
										<f:selectItem itemLabel="Si" itemValue="1" />
										<f:selectItem itemLabel="No" itemValue="0" />
									</p:selectOneMenu>

								</h:panelGrid>

								<h:panelGrid columns="2">
									<h:outputText value="#{msg['his_obs']}" />
									<p:inputTextarea style="width:900px"
										value="#{historyOdontologyBacking.crmOdontologyPersonalRecord.obs}"
										rows="3" />
								</h:panelGrid>

							</p:panel>

							<p:panel header="#{msg['his_record_family']}">
								<h:panelGrid id="pnlHistoryFamilary" columns="2" width="100%"
									cellpadding="10">
									<h:outputText value="#{msg['his_record_father']}" />
									<p:inputTextarea style="width:850px"
										value="#{historyOdontologyBacking.crmOdontologyFamilaryRecord.father}"
										rows="3" />
									<h:outputText value="#{msg['his_record_mother']}" />
									<p:inputTextarea style="width:850px"
										value="#{historyOdontologyBacking.crmOdontologyFamilaryRecord.mother}"
										rows="3" />
									<h:outputText value="#{msg['his_record_sibilings']}" />
									<p:inputTextarea style="width:850px"
										value="#{historyOdontologyBacking.crmOdontologyFamilaryRecord.sibilings}"
										rows="3" />
									<h:outputText value="#{msg['his_record_grandparents']}" />
									<p:inputTextarea style="width:850px"
										value="#{historyOdontologyBacking.crmOdontologyFamilaryRecord.grandparents}"
										rows="3" />
									<h:outputText value="#{msg['his_obs']}" />
									<p:inputTextarea style="width:850px"
										value="#{historyOdontologyBacking.crmOdontologyFamilaryRecord.obs}"
										rows="3" />
								</h:panelGrid>
							</p:panel>

						</p:tab>

						<p:tab title="#{msg['his_general_findings']}"
							id="tabGeneralFindings">
							<h:panelGrid columns="4" width="100%"
								columnClasses="width25per,width25per,width25per,width25per">

								<h:outputLabel value="#{msg['his_physique_heart_rate']}" />
								<pe:inputNumber symbol="   puls" symbolPosition="s"
									decimalPlaces="0" style="width:300px" maxValue="200"
									value="#{historyOdontologyBacking.heartRate}" />

								<h:outputLabel value="#{msg['his_physique_respiratory_rate']}" />
								<pe:inputNumber symbol="   resp/min" symbolPosition="s"
									decimalPlaces="0" style="width:300px" maxValue="70"
									value="#{historyOdontologyBacking.respiratoryRate}" />

								<h:outputLabel value="#{msg['his_physique_blood_pressure']}" />
								<p:inputText maxlength="7" style="width:300px"
									value="#{historyOdontologyBacking.selectedHistoryPhysique.bloodPressure}" />

								<h:outputText value="#{msg['his_physique_brush_frecuency']}" />
								<p:selectOneMenu label="#{msg['his_physique_brush_frecuency']}"
									required="true"
									value="#{historyOdontologyBacking.selectedHistoryPhysique.brushFrecuency}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>

								<h:outputText value="#{msg['his_physique_floss']}" />
								<p:selectOneMenu label="#{msg['his_physique_floss']}"
									required="true"
									value="#{historyOdontologyBacking.selectedHistoryPhysique.floss}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>

								<h:outputText value="#{msg['his_physique_oral_hygiene_habit']}" />
								<p:selectOneMenu
									label="#{msg['his_physique_oral_hygiene_habit']}"
									required="true"
									value="#{historyOdontologyBacking.selectedHistoryPhysique.oralHygieneHabit}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>

							</h:panelGrid>

							<h:outputLabel value="#{msg['his_history_obs']}" />
							<p:inputTextarea id="txtPersonal28" style="width:850px" rows="3"
								value="#{historyOdontologyBacking.selectedHistoryPhysique.obs}" />
						</p:tab>

						<p:tab title="#{msg['his_stomatolog']}" id="tabStomatolog">
							<h:panelGrid id="pnlStomatolog" columns="8" width="100%"
								cellpadding="10">
								<h:outputText value="#{msg['his_stomatolog_exam']}" />

								<h:outputText value="#{msg['his_stomatolog_head']}" />

								<h:outputText value="#{msg['his_stomatolog_exostosis_head']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_exostosis_head']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.exostosisHead}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_endostosis_head']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_endostosis_head']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.endostosisHead}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_face']}" />

								<h:outputText
									value="#{msg['his_stomatolog_dolichocephalic_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_dolichocephalic_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.dolichocephalicFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_mesocephalic_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_mesocephalic_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.mesocephalicFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText
									value="#{msg['his_stomatolog_brachycephalic_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_brachycephalic_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.brachycephalicFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_skin']}" />

								<h:outputText value="#{msg['his_stomatolog_normal_skin']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_normal_skin']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.normalSkin}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_pale_skin']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_pale_skin']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.paleSkin}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_cyanotic_skin']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_cyanotic_skin']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.cyanoticSkin}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_red_skin']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_red_skin']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.redSkin}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_face']}" />

								<h:outputText value="#{msg['his_stomatolog_transverse_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_transverse_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.transverseFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_longitudinal_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_longitudinal_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.longitudinalFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_side_face']}" />
								
								<h:outputText value="#{msg['his_stomatolog_concave_side_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_concave_side_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.concaveSideFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_convex_side_face']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_convex_side_face']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.convexSideFace}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_muscles']}" />

								<h:outputText value="#{msg['his_stomatolog_hypotonic_muscles']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_hypotonic_muscles']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.hypotonicMuscles}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText
									value="#{msg['his_stomatolog_hypertonic_muscles']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_hypertonic_muscles']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.hypertonicMuscles}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_neck']}" />

								<h:outputText value="#{msg['his_stomatolog_lymph_node_chain']}" />
								<p:selectOneMenu
									label="#{msg['his_stomatolog_lymph_node_chain']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.lymphNodeChain}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>
								<h:outputText value="#{msg['his_stomatolog_othres']}" />
								<p:selectOneMenu label="#{msg['his_stomatolog_othres']}"
									required="true"
									value="#{historyOdontologyBacking.crmOdontologyStomatolog.othres}">
									<f:selectItem itemLabel="#{msg['glb_default_value']}"
										noSelectionOption="true" />
									<f:selectItem itemLabel="Si" itemValue="1" />
									<f:selectItem itemLabel="No" itemValue="0" />
								</p:selectOneMenu>

							</h:panelGrid>
						</p:tab>

					</p:accordionPanel>

					<h:panelGrid id="pnlHistorial"
						rendered="#{historyOdontologyBacking.modeHistorial}" width="100%">

						<ui:include src="historial.xhtml">
							<ui:param name="prefix" value="pnlHistorial" />
						</ui:include>

					</h:panelGrid>

				</h:panelGrid>
			</h:form>
		</p:panel>

		<script type="text/javascript">
			function handleNoteComplete(xhr, status, args) {
				if (args.validationFailed || !args.saved) {
					jQuery('dialogNote').effect("shake", {
						times : 3
					}, 100);
				} else {
					dlgNote.hide();
				}
			}

			function handleConsentComplete(xhr, status, args) {
				if (args.validationFailed || !args.saved) {
					jQuery('dialogConsent').effect("shake", {
						times : 3
					}, 100);
				} else {
					dlgConsent.hide();
				}
			}

			function start() {
				statusDialog.show();
			}

			function stop() {
				statusDialog.hide();
			}
		</script>
	</ui:define>
</ui:composition>
</html>