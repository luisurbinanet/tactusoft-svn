<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:form id="formMenu">
	<div class="rco-nav">
		<div class="l"></div>
		<div class="r"></div>
		<ul class="rco-menu">

			<ui:repeat var="menu" value="#{menuBacking.listMenu}">
				<li><h:commandLink action="#{menuBacking.actionPage}">
						<span class="l"></span>
						<span class="r"></span>
						<span class="t"> <h:outputLabel value="#{menu.name}" /> </span>
						<f:param name="page" value="#{menu.page}" />
					</h:commandLink>
					<ul>
						<ui:repeat var="child" value="#{menu.childs}">
							<li><p:commandLink value="#{child.name}"
									action="#{menuBacking.actionPage}">
									<f:param name="page" value="#{child.page}" />
								</p:commandLink></li>
						</ui:repeat>
					</ul></li>
			</ui:repeat>
			
			<li><p:commandLink action="#{menuBacking.actionPage}"
					immediate="true" rendered="#{not loginBacking.authenticated}">
					<span class="l"></span>
					<span class="r"></span>
					<span class="t">#{msg['title_login']}</span>
					<f:param name="page" value="/pages/secure/login" />
				</p:commandLink>
			</li>

			<li><h:commandLink action="#{loginBacking.logout}"
					immediate="true" rendered="#{loginBacking.authenticated}">
					<span class="l"></span>
					<span class="r"></span>
					<span class="t">#{msg['log_close']}</span>
				</h:commandLink>
			</li>

		</ul>
	</div>
</h:form>

</html>